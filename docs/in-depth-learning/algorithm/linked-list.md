# 数据结构之链表

## 链表的定义

我们知道，数组需要一块**连续的内存空间**来存储，对内存的要求比较高。如果我们申请一个 100MB 大小的数组，当内存中没有连续的、足够大的存储空间时，即便内存的剩余总可用空间大于 100MB，仍然会申请失败。

而链表（Linked List）恰恰相反，它并不需要一块连续的内存空间，它通过「指针」将一组**零散的内存块**串联起来使用，所以如果我们申请的是 100MB 大小的链表，就不会有问题。

## 链表的类型

链表结构五花八门，最常见的三种链表结构是：单链表、双向链表和循环链表。

### 单链表

链表通过指针将一组零散的内存块串联在一起。其中，我们把内存块称为链表的「**结点**」。为了将所有的结点串起来，每个链表的结点除了存储数据之外，还需要记录链上的下一个结点的地址。

如图所示，我们把这个记录下个结点地址的指针叫作**后继指针 next**。

<div style="text-align: center;">
  <svg id="SvgjsSvg1006" width="761" height="91" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1064" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1065" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1068" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1069" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1072" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1073" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1076" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1077" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1080" markerWidth="16" markerHeight="12" refX="0" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1081" d="M15,1.5 L2,6 L15,10.5" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(73,25)"><path id="SvgjsPath1009" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="20" x="28"><tspan id="SvgjsTspan1013" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1014" transform="translate(129,25)"><path id="SvgjsPath1015" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1016"><text id="SvgjsText1017" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1018" dy="20" x="27"><tspan id="SvgjsTspan1019" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1020" transform="translate(227,25)"><path id="SvgjsPath1021" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1022"><text id="SvgjsText1023" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1024" dy="20" x="28"><tspan id="SvgjsTspan1025" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1026" transform="translate(283,25)"><path id="SvgjsPath1027" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1028"><text id="SvgjsText1029" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1030" dy="20" x="27"><tspan id="SvgjsTspan1031" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1032" transform="translate(379,25)"><path id="SvgjsPath1033" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1034"><text id="SvgjsText1035" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1036" dy="20" x="28"><tspan id="SvgjsTspan1037" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1038" transform="translate(435,25)"><path id="SvgjsPath1039" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1040"><text id="SvgjsText1041" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1042" dy="20" x="27"><tspan id="SvgjsTspan1043" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1044" transform="translate(530,25)"><path id="SvgjsPath1045" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1046"><text id="SvgjsText1047" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1048" dy="20" x="28"><tspan id="SvgjsTspan1049" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1050" transform="translate(586,25)"><path id="SvgjsPath1051" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1052"><text id="SvgjsText1053" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1054" dy="20" x="27"><tspan id="SvgjsTspan1055" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1056" transform="translate(685,25.5)"><path id="SvgjsPath1057" d="M 0 0L 51 0L 51 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1058"><text id="SvgjsText1059" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="51px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="7.6" transform="rotate(0)"><tspan id="SvgjsTspan1060" dy="20" x="25.5"><tspan id="SvgjsTspan1061" style="text-decoration:;">NULL</tspan></tspan></text></g></g><g id="SvgjsG1062"><path id="SvgjsPath1063" d="M183 45.5L205 45.5L205 45.5L227 45.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1064)"></path></g><g id="SvgjsG1066"><path id="SvgjsPath1067" d="M337 45.5L358 45.5L358 45.5L379 45.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1068)"></path></g><g id="SvgjsG1070"><path id="SvgjsPath1071" d="M489 45.5L509.5 45.5L509.5 45.5L530 45.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1072)"></path></g><g id="SvgjsG1074"><path id="SvgjsPath1075" d="M640 45.5L662.5 45.5L662.5 45.5L685 45.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1076)"></path></g><g id="SvgjsG1078"><path id="SvgjsPath1079" d="M73 45.5L49 45.5L49 45.5L25 45.5" stroke="#323232" stroke-width="2" fill="none" marker-start="url(#SvgjsMarker1080)"></path></g></svg>
  <p style="text-align:center; color: #888;">（单链表）</p>
</div>

在单链表中，有两个结点是比较特殊的，它们分别是第一个结点（也叫作**头结点**）和最后一个结点（也叫作**尾结点**）。

其中，头结点用来记录链表的基地址。有了它，我们可以遍历得到整条链表。而尾结点特殊的地方是：指针不是指向下一个结点，而是指向一个**空地址 NUL**L，表示这是链表上最后一个结点。

我们知道，在进行数组的插入、删除操作时，为了保持内存数据的连续性，需要做大量的数据搬移，所以时间复杂度是 `O(n)`。而在链表中插入或者删除一个数据，我们并不需要为了保持内存的连续性而搬移结点，因为链表的存储空间本身就不是连续的。所以，在链表中插入和删除一个数据是非常快速的，只需要考虑相邻结点的指针改变，所以对应的时间复杂度是 `O(1)`。

但是，链表随机访问的性能没有数组好，原因在于链表中的数据并非连续存储的，无法像数组那样，根据首地址和下标，通过寻址公式就能直接计算出对应的内存地址，而是需要从头节点开始，根据指针一个结点一个结点地依次遍历，直到找到相应的结点。这个过程需要 `O(n)` 的时间复杂度。

### 循环链表

**循环链表是一种特殊的单链表**。它跟单链表唯一的区别就在尾结点：单链表的尾结点指针指向空地址，表示这就是最后的结点了；而循环链表的尾结点指针指向链表的头结点，如下如所示：

<div style="text-align: center;">
  <svg id="SvgjsSvg1006" width="680" height="141" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1058" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1059" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1062" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1063" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1066" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1067" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1070" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1071" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(58,75)"><path id="SvgjsPath1009" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="20" x="28"><tspan id="SvgjsTspan1013" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1014" transform="translate(114,75)"><path id="SvgjsPath1015" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1016"><text id="SvgjsText1017" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1018" dy="20" x="27"><tspan id="SvgjsTspan1019" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1020" transform="translate(212,75)"><path id="SvgjsPath1021" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1022"><text id="SvgjsText1023" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1024" dy="20" x="28"><tspan id="SvgjsTspan1025" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1026" transform="translate(268,75)"><path id="SvgjsPath1027" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1028"><text id="SvgjsText1029" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1030" dy="20" x="27"><tspan id="SvgjsTspan1031" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1032" transform="translate(364,75)"><path id="SvgjsPath1033" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1034"><text id="SvgjsText1035" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1036" dy="20" x="28"><tspan id="SvgjsTspan1037" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1038" transform="translate(420,75)"><path id="SvgjsPath1039" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1040"><text id="SvgjsText1041" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1042" dy="20" x="27"><tspan id="SvgjsTspan1043" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1044" transform="translate(515,75)"><path id="SvgjsPath1045" d="M 0 0L 56 0L 56 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1046"><text id="SvgjsText1047" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1048" dy="20" x="28"><tspan id="SvgjsTspan1049" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1050" transform="translate(571,75)"><path id="SvgjsPath1051" d="M 0 0L 54 0L 54 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1052"><text id="SvgjsText1053" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="34px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1054" dy="20" x="27"><tspan id="SvgjsTspan1055" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1056"><path id="SvgjsPath1057" d="M168 95.5L190 95.5L190 95.5L212 95.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1058)"></path></g><g id="SvgjsG1060"><path id="SvgjsPath1061" d="M322 95.5L343 95.5L343 95.5L364 95.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1062)"></path></g><g id="SvgjsG1064"><path id="SvgjsPath1065" d="M474 95.5L494.5 95.5L494.5 95.5L515 95.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1066)"></path></g><g id="SvgjsG1068"><path id="SvgjsPath1069" d="M625 95.5L655 95.5L655 25L25 25L25 95.5L58 95.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1070)"></path></g></svg>
  <p style="text-align:center; color: #888;">（循环链表）</p>
</div>

循环链表的优点是从链尾到链头比较方便。当要处理的数据具有环型结构特点时，就适合采用循环链表。

### 双向链表

双向链表，顾名思义，它支持两个方向，每个结点不止有一个后继指针 next 指向后面的结点，还有一个前驱指针 prev 指向前面的结点。如下图所示：

<div style="text-align: center;">
  <svg id="SvgjsSvg1182" width="751.09375" height="91" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1183"><marker id="SvgjsMarker1240" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1241" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1244" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1245" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1248" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1249" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1252" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1253" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1256" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1257" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1260" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1261" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1264" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1265" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1268" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1269" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1184" transform="translate(133,25)"><path id="SvgjsPath1185" d="M 0 0L 55 0L 55 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1186"><text id="SvgjsText1187" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="35px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1188" dy="20" x="27.5"><tspan id="SvgjsTspan1189" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1190" transform="translate(189,25)"><path id="SvgjsPath1191" d="M 0 0L 55 0L 55 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1192"><text id="SvgjsText1193" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="35px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1194" dy="20" x="27.5"><tspan id="SvgjsTspan1195" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1196" transform="translate(348,25)"><path id="SvgjsPath1197" d="M 0 0L 55 0L 55 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1198"><text id="SvgjsText1199" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="35px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1200" dy="20" x="27.5"><tspan id="SvgjsTspan1201" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1202" transform="translate(404,25)"><path id="SvgjsPath1203" d="M 0 0L 55 0L 55 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1204"><text id="SvgjsText1205" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="35px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1206" dy="20" x="27.5"><tspan id="SvgjsTspan1207" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1208" transform="translate(562,25)"><path id="SvgjsPath1209" d="M 0 0L 55 0L 55 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ff8000"></path><g id="SvgjsG1210"><text id="SvgjsText1211" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="35px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1212" dy="20" x="27.5"><tspan id="SvgjsTspan1213" style="text-decoration:;">data</tspan></tspan></text></g></g><g id="SvgjsG1214" transform="translate(618,25)"><path id="SvgjsPath1215" d="M 0 0L 55 0L 55 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1216"><text id="SvgjsText1217" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="35px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1218" dy="20" x="27.5"><tspan id="SvgjsTspan1219" style="text-decoration:;">next</tspan></tspan></text></g></g><g id="SvgjsG1220" transform="translate(79,25)"><path id="SvgjsPath1221" d="M 0 0L 55 0L 55 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1222"><text id="SvgjsText1223" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="35px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1224" dy="20" x="27.5"><tspan id="SvgjsTspan1225" style="text-decoration:;">prev</tspan></tspan></text></g></g><g id="SvgjsG1226" transform="translate(294,25)"><path id="SvgjsPath1227" d="M 0 0L 55 0L 55 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1228"><text id="SvgjsText1229" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="35px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1230" dy="20" x="27.5"><tspan id="SvgjsTspan1231" style="text-decoration:;">prev</tspan></tspan></text></g></g><g id="SvgjsG1232" transform="translate(508,25)"><path id="SvgjsPath1233" d="M 0 0L 55 0L 55 41L 0 41Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffff00"></path><g id="SvgjsG1234"><text id="SvgjsText1235" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="35px" fill="#323232" font-weight="400" align="middle" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="8.1" transform="rotate(0)"><tspan id="SvgjsTspan1236" dy="20" x="27.5"><tspan id="SvgjsTspan1237" style="text-decoration:;">prev</tspan></tspan></text></g></g><g id="SvgjsG1238"><path id="SvgjsPath1239" d="M242 34L268 34L268 34L294 34" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1240)"></path></g><g id="SvgjsG1242"><path id="SvgjsPath1243" d="M294 59.22354286469243L268.1894153491444 59.22354286469243L268.1894153491444 59.22354286469243L244 59.22354286469243" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1244)"></path></g><g id="SvgjsG1246"><path id="SvgjsPath1247" d="M457 33L482.5 33L482.5 33L508 33" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1248)"></path></g><g id="SvgjsG1250"><path id="SvgjsPath1251" d="M508 57L483.31261557407333 57L483.31261557407333 57L459 57" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1252)"></path></g><g id="SvgjsG1254"><path id="SvgjsPath1255" d="M25 33.5L51 33.5L51 33.5L77 33.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1256)"></path></g><g id="SvgjsG1258"><path id="SvgjsPath1259" d="M79.27660817715599 58.72354286469243L53.18941534914438 58.72354286469243L53.18941534914438 58.72354286469243L27.102222521132774 58.72354286469243" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1260)"></path></g><g id="SvgjsG1262"><path id="SvgjsPath1263" d="M672 32.38822856765378L698 32.38822856765378L698 32.38822856765378L724 32.38822856765378" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1264)"></path></g><g id="SvgjsG1266"><path id="SvgjsPath1267" d="M726.276608177156 57.61177143234622L700.1894153491444 57.61177143234622L700.1894153491444 57.61177143234622L674.1022225211327 57.61177143234622" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1268)"></path></g></svg>
  <p style="text-align:center; color: #888;">（双向链表）</p>
</div>

由于双向链表需要额外的两个空间来存储后继结点和前驱结点的地址，所以存储同样多的数据时，双向链表要比单链表占用更多的内存空间。虽然两个指针比较浪费存储空间，但可以支持双向遍历，这样也带来了双向链表操作的灵活性。

从结构上来看，双向链表可以支持 `O(1)` 时间复杂度的情况下找到前驱结点，正是这样的特点，使得双向链表在某些情况下的插入、删除等操作都要比单链表简单、高效。

::: warning
单链表的插入、删除操作的时间复杂度已经是 `O(1)` 了，为什么说双向链表更高效呢？
:::

对于链表的**删除操作**，有两种情况：

* 删除结点中「值等于某个给定值」的结点。
* 删除给定指针指向的结点。

对于第一种情况，不管是单链表还是双向链表，都需要先定位到要删除的元素（从头结点开始依次遍历），然后再执行删除操作。定位到要删除的元素的平均时间复杂度为 `O(n)`，执行删除操作的时间复杂度是 `O(1)`。根据时间复杂度分析中的加法法则，总时间复杂度为 `O(n)`。

对于第二种情况，这种情况不用再去遍历找到被删除元素。在直接删除这个指针指向的元素时，需要知道其前驱结点。单链表不支持直接获取前驱结点，所以还是要从头结点开始遍历链表，直到找到其前驱结点，那么单链表的删除操作则需要 `O(n)` 的时间复杂度；而双向链表中的结点已经保存了前驱结点的指针，不需要像单链表那样遍历，因此时间复杂度为 `O(1)`。

对于链表的**插入操作**，同理：双向链表可以在 `O(1)` 时间复杂度搞定，而单向链表需要 `O(n)` 的时间复杂度。

### 双向循环链表

如果把循环链表和双向链表整合在一起就是：**双向循环链表**。

## 链表 VS 数组

* 数组简单易用，在实现上使用的是连续的内存空间，可以借助 CPU 的缓存机制，预读数组中的数据，所以访问效率更高。而链表在内存中并不是连续存储，所以对 CPU 缓存不友好，没办法有效预读。

* 数组的缺点是大小固定，一经声明就要占用整块连续内存空间。如果声明的数组过大，系统可能没有足够的连续内存空间分配给它，导致「内存不足（out of memory）」。如果声明的数组过小，则可能出现不够用的情况。这时只能再申请一个更大的内存空间，把原数组拷贝进去，非常费时。链表本身没有大小的限制，天然地支持动态扩容，这也是它与数组最大的区别。

除此之外，如果代码对内存的使用非常苛刻，那数组会更适合。因为链表中的每个结点都需要消耗额外的存储空间去存储一份指向下一个结点的指针，所以内存消耗会翻倍。而且对链表进行频繁的插入、删除操作，还会导致频繁的内存申请和释放，容易造成内存碎片，如果是 Java 语言，就有可能会导致频繁的 GC（Garbage Collection，垃圾回收）。

（完）
